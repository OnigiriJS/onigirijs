Onigiri.security.init({autoInjectCSRF:!0}),console.log("üçô OnigiriJS Demo App Initialized"),console.log("Loaded modules:",Onigiri.modules);const menuData=[{id:1,name:"Salmon Onigiri",description:"Fresh salmon with seasoned rice",price:3.5,emoji:"üêü"},{id:2,name:"Tuna Onigiri",description:"Spicy tuna with mayo",price:3.5,emoji:"üê†"},{id:3,name:"Umeboshi Onigiri",description:"Pickled plum, classic taste",price:3,emoji:"üå∏"},{id:4,name:"Chicken Teriyaki",description:"Grilled chicken with teriyaki sauce",price:4,emoji:"üçó"},{id:5,name:"Vegetable Onigiri",description:"Fresh vegetables and herbs",price:3.25,emoji:"ü•¨"},{id:6,name:"Shrimp Tempura",description:"Crispy tempura shrimp",price:4.5,emoji:"üç§"}],shop=new Onigiri.prototype.Component({data:{menu:[],cart:[],loading:!1},computed:{cartTotal(){return this.cart.reduce(((t,i)=>t+i.price*i.quantity),0)},cartCount(){return this.cart.reduce(((t,i)=>t+i.quantity),0)}},methods:{loadMenu(){this.loading=!0,setTimeout((()=>{this.menu=menuData,this.loading=!1,this.renderMenu()}),500)},renderMenu(){const t=O("#menu-container");t.empty(),this.menu.forEach((i=>{t.append(`\n                    <div class="menu-item">\n                        <h3>${i.emoji} ${i.name}</h3>\n                        <p class="description">${i.description}</p>\n                        <div class="price">$${i.price.toFixed(2)}</div>\n                        <button class="btn add-to-cart" data-id="${i.id}">\n                            Add to Cart\n                        </button>\n                    </div>\n                `)})),O(".add-to-cart").on("click",(t=>{const i=parseInt(O(t.target).data("id"),10),e=this.menu.find((t=>t.id===i));this.addToCart(e)}))},addToCart(t){const i=this.cart.find((i=>i.id===t.id));i?i.quantity++:this.cart.push({...t,quantity:1}),this.updateCart(),showNotification(`Added ${t.name} to cart! üçô`)},removeFromCart(t){this.cart=this.cart.filter((i=>i.id!==t)),this.updateCart()},updateQuantity(t,i){const e=this.cart.find((i=>i.id===t));e&&(e.quantity+=i,e.quantity<=0?this.removeFromCart(t):this.updateCart())},updateCart(){const t=O("#cart-items");t.empty(),this.cart.length?(this.cart.forEach((i=>{t.append(`\n                        <div class="cart-item">\n                            <div>\n                                <div class="cart-item-name">${i.emoji} ${i.name}</div>\n                                <div style="color:#666;font-size:.875rem;">\n                                    $${i.price.toFixed(2)} √ó ${i.quantity}\n                                </div>\n                            </div>\n                            <div class="cart-item-controls">\n                                <button onclick="shop.updateQuantity(${i.id}, -1)">‚àí</button>\n                                <span>${i.quantity}</span>\n                                <button onclick="shop.updateQuantity(${i.id}, 1)">+</button>\n                            </div>\n                        </div>\n                    `)})),O("#checkout-btn").removeAttr("disabled")):(t.html('<p style="text-align:center;color:#999;">Cart is empty</p>'),O("#checkout-btn").attr("disabled",!0)),O("#cart-total").text(this.cartTotal.toFixed(2)),this.saveCart()},saveCart(){Onigiri.storage.set("cart",this.cart)},loadCart(){this.cart=Onigiri.storage.get("cart",[]),this.updateCart()},checkout(){showNotification(`Order placed! Total: $${this.cartTotal.toFixed(2)} üçô`,3e3),this.cart=[],this.updateCart()}},created(){this.loadCart()},mounted(){this.loadMenu()}});shop.mount("body");const counter=new Onigiri.prototype.Component({data:{count:0,eventsCount:0},methods:{increment(){this.count++,this.eventsCount++,this.updateStats()},updateStats(){O("#counter-value").text(this.count),O("#storage-items").text(Onigiri.storage.keys().length),O("#events-fired").text(this.eventsCount)}},created(){this.count=Onigiri.storage.get("counter",0),this.updateStats()}});function showNotification(t,i=2e3){const e=O("#notification");e.html(`üçô ${t}`),e.fadeIn(200),setTimeout((()=>e.fadeOut(200)),i)}counter.mount("body"),O("#checkout-btn").on("click",(()=>shop.checkout())),O("#increment-btn").on("click",(()=>counter.increment())),O(".tab-btn").on("click",(function(){const t=O(this).data("tab");O(".tab-btn").removeClass("active"),O(this).addClass("active"),O(".demo-section").removeClass("active"),O(`#${t}-section`).addClass("active")})),O(".accordion-header").on("click",(function(){const t=this,i=t.nextElementSibling,e=t.classList.contains("open");O(".accordion-header").removeClass("open"),O(".accordion-content").slideUp(300),!e&&i&&(O(t).addClass("open"),O(i).slideDown(300))})),console.log("üçô Demo app ready!");
